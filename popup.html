
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>SuMail</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="logo">
        <img src="SuMail_logo.png" alt="SuMail 로고" class="logo-img logo-img-light">
        <img src="SuMail_logo_white.png" alt="SuMail 로고 다크" class="logo-img logo-img-dark">
      </div>
      <div class="row">
        <button id="quickLinksBtn" class="btn link" style="padding:6px 10px;font-weight:600;">메일 바로가기</button>
        <button id="openOptions" class="menu" title="설정 열기">⚙️</button>
      </div>
    </div>
    <div id="quickLinks" class="quick-links hidden">
      <button class="btn secondary quick-link" data-url="https://mail.google.com">Gmail</button>
      <button class="btn secondary quick-link" data-url="https://outlook.office.com/mail/">Outlook</button>
      <button class="btn secondary quick-link" data-url="https://mail.yahoo.com/">Yahoo Mail</button>
    </div>

    <div class="card">
      <h3 id="summaryTitle">요약</h3>
      <textarea id="inputText" placeholder="여기에 이메일을 붙여넣어 주세요"></textarea>
      <div class="char-row"><span id="charCount">2,000자 남음</span></div>
      <div class="section-actions">
        <button id="btnSummarize" class="btn">요약하기</button>
        <button id="btnTranslate" class="btn secondary">번역하기</button>
      </div>
      <div id="summaryOut" class="small" style="margin-top:8px;"></div>
      <div id="translateOut" class="small" style="margin-top:8px;"></div>
    </div>

    <div class="card">
      <h3 id="emotionTitle">감정 분석</h3>
      <div id="emotionOut" class="small">감정 분석 결과가 여기 표시됩니다.</div>
      <div class="section-actions">
        <button id="btnAnalyze" class="btn secondary">분석하기</button>
      </div>
    </div>

    <div class="card">
      <h3 class="title-row">
        <span id="templateTitle">회신 템플릿</span>
        <button id="copyTemplate" class="copy icon-btn" title="복사" aria-label="템플릿 복사">
          <svg viewBox="0 0 24 24" class="icon-copy" aria-hidden="true">
            <path d="M9 7h8a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6 3h8a2 2 0 0 1 2 2v1" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </h3>
      <div class="template-options">
        <label class="full-width"><span id="customLabel">맞춤 지시 (선택)</span>
          <textarea id="tplCustom" placeholder="맞춤 지시를 입력하세요 (언어/톤/길이/포함할 내용 등)"></textarea>
        </label>
      </div>
      <div class="char-row"><span id="customCount">300자 남음</span></div>
      <div id="templateOut" class="small" style="margin-top:8px;">요약 후 템플릿이 여기 표시됩니다.</div>
      <div class="section-actions">
        <button id="btnGenerateTemplate" class="btn secondary hidden">템플릿 생성</button>
      </div>
    </div>

    <div class="section-actions">
      <button id="resetState" class="btn secondary full">모든 진행 초기화</button>
    </div>

    <div id="toast" class="toast hidden"></div>
  </div>
  <div id="settingsPanel" class="settings-panel hidden">
    <div class="settings-header">
      <div class="logo" id="settingsTitle">설정</div>
      <button id="closeSettings" class="menu" aria-label="닫기">✕</button>
    </div>
    <div class="card settings-card">
      <h3 id="apiTitle">API 키</h3>
      <input id="apiKeySetting" class="input" type="password" placeholder="sk-...">
      <div class="section-actions">
        <button id="saveSettings" class="btn">저장</button>
        <button id="clearSettings" class="btn secondary">삭제</button>
      </div>
      <div class="small note" id="apiNote"><b>chrome.storage.sync</b>에 저장되어 로그인한 Chrome 프로필 간 동기화됩니다.</div>
    </div>
    <div class="card settings-card">
      <h3 id="modelTitle">사용 모델</h3>
      <div class="small">gpt-4o-mini</div>
    </div>
    <div class="card settings-card">
      <h3 id="langTitle">언어</h3>
      <div class="section-actions" style="align-items:center;">
        <select id="langSelect">
          <option value="ko">한국어</option>
          <option value="en">English</option>
        </select>
      </div>
    </div>
    <div class="card settings-card">
      <h3 id="themeTitle">테마</h3>
      <div class="section-actions" style="align-items:center;">
        <label class="switch">
          <input id="themeSelect" type="checkbox">
          <span class="switch-track"><span class="switch-thumb"></span></span>
          <span class="switch-label" id="themeLabel">다크 모드 사용</span>
        </label>
      </div>
    </div>
    <div class="card settings-card">
      <h3 id="autoTemplateTitle">템플릿 자동 생성</h3>
      <div class="section-actions" style="align-items:center;">
        <label class="switch">
          <input id="autoTemplateSetting" type="checkbox">
          <span class="switch-track"><span class="switch-thumb"></span></span>
          <span class="switch-label" id="autoTemplateLabel">요약 후 회신 템플릿을 자동 생성합니다.</span>
        </label>
        <button id="applyAutoTemplateSetting" class="btn secondary hidden" type="button">적용</button>
      </div>
    </div>
  </div>
  <script src="popup.js"></script>
</body>
</html>
